<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>æ¥“ä¹‹è°·å¹£å€¼æ›ç®—å™¨</title>
  <style>
    :root {
      --bg-color: #1a1a2e;
      --text-color: #ffffff;
      --box-bg: rgba(30, 30, 60, 0.85);
      --info-bg: rgba(240, 240, 255, 0.9);
      --info-color: #111;
    }
    body {
      font-family: "å¾®è»Ÿæ­£é»‘é«”", sans-serif;
      padding: 30px;
      background-color: var(--bg-color);
      color: var(--text-color);
      transition: background 0.5s, color 0.5s;
    }
    h2 {
      color: #ffff66;
      font-size: 2em;
      text-align: center;
      margin-bottom: 20px;
      text-shadow: 2px 2px 4px #000;
    }
    label {
      display: block;
      margin: 10px 0 5px;
      font-size: 1.1em;
    }
    input {
      width: 220px;
      padding: 8px;
      font-size: 1em;
      border-radius: 6px;
      border: none;
      box-shadow: 2px 2px 4px #333;
    }
    .info-box {
      background-color: var(--info-bg);
      color: var(--info-color);
      border: 2px solid #ffcc00;
      padding: 15px;
      margin-bottom: 25px;
      border-radius: 12px;
      font-weight: bold;
    }
    .container {
      background-color: var(--box-bg);
      padding: 20px;
      border-radius: 15px;
      max-width: 500px;
      margin: 0 auto;
    }
    .toggle-btn {
      display: block;
      margin: 20px auto;
      padding: 8px 16px;
      font-size: 1em;
      background-color: #333;
      color: #fff;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      box-shadow: 2px 2px 5px #000;
    }
    @media screen and (max-width: 600px) {
      .container {
        width: 95%;
        padding: 15px;
      }
      input {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>æ¥“ä¹‹è°·å¹£å€¼æ›ç®—å™¨</h2>

    <div class="info-box">
      ğŸ“Œ æ ¹æ“šç›®å‰æ¯”ä¾‹æ¨ç®—ï¼š<br>
      <strong>1 é›ªèŠ± â‰ˆ 27.27 ä¸–ç•Œå¹£ â‰ˆ 4.09 å°å¹£ â‰ˆ <span id="rateDisplay">80000</span> æ¥“å¹£</strong><br>
      æ›ç®—é—œä¿‚ï¼š<br>
      â”€ 800 ä¸–ç•Œå¹£ = 120 å°å¹£<br>
      â”€ 11 é›ªèŠ± = 300 ä¸–ç•Œå¹£<br>
      â”€ 1 é›ªèŠ± = <input type="number" id="snowToMapleInput" value="80000" oninput="updateRate()"> æ¥“å¹£
    </div>

    <label>è¼¸å…¥å°å¹£ï¼š<input type="number" id="twd" oninput="convert('twd')"> å…ƒ</label>
    <label>è¼¸å…¥ä¸–ç•Œå¹£ï¼š<input type="number" id="world" oninput="convert('world')"> å¹£</label>
    <label>è¼¸å…¥é›ªèŠ±æ•¸ï¼š<input type="number" id="snow" oninput="convert('snow')"> å€‹</label>
    <label>è¼¸å…¥æ¥“å¹£ï¼š<input type="number" id="maple" oninput="convert('maple')"> å¹£</label>

    <button class="toggle-btn" onclick="toggleTheme()">ğŸŒ™ åˆ‡æ›é»‘å¤œæ¨¡å¼</button>
  </div>

  <script>
    let snowToMaple = 80000;
    let isNight = false;

    function updateRate() {
      const input = parseFloat(document.getElementById("snowToMapleInput").value);
      if (!isNaN(input) && input > 0) {
        snowToMaple = input;
        document.getElementById("rateDisplay").innerText = snowToMaple;
        convert('snow');
      }
    }

    function toggleTheme() {
      isNight = !isNight;
      if (isNight) {
        document.documentElement.style.setProperty('--bg-color', '#0d0d1a');
        document.documentElement.style.setProperty('--text-color', '#e0e0e0');
        document.documentElement.style.setProperty('--box-bg', 'rgba(10, 10, 30, 0.95)');
        document.documentElement.style.setProperty('--info-bg', 'rgba(40, 40, 60, 0.9)');
        document.documentElement.style.setProperty('--info-color', '#ddd');
      } else {
        document.documentElement.style.setProperty('--bg-color', '#1a1a2e');
        document.documentElement.style.setProperty('--text-color', '#ffffff');
        document.documentElement.style.setProperty('--box-bg', 'rgba(30, 30, 60, 0.85)');
        document.documentElement.style.setProperty('--info-bg', 'rgba(240, 240, 255, 0.9)');
        document.documentElement.style.setProperty('--info-color', '#111');
      }
    }

    function convert(source) {
      const snowToWorld = 300 / 11;
      const worldToTWD = 120 / 800;
      const TWDToWorld = 800 / 120;

      let twd = parseFloat(document.getElementById("twd").value) || 0;
      let world = parseFloat(document.getElementById("world").value) || 0;
      let snow = parseFloat(document.getElementById("snow").value) || 0;
      let maple = parseFloat(document.getElementById("maple").value) || 0;

      if (source === 'twd') {
        world = twd * TWDToWorld;
        snow = world / snowToWorld;
        maple = snow * snowToMaple;
      } else if (source === 'world') {
        twd = world * worldToTWD;
        snow = world / snowToWorld;
        maple = snow * snowToMaple;
      } else if (source === 'snow') {
        world = snow * snowToWorld;
        twd = world * worldToTWD;
        maple = snow * snowToMaple;
      } else if (source === 'maple') {
        snow = maple / snowToMaple;
        world = snow * snowToWorld;
        twd = world * worldToTWD;
      }

      document.getElementById("twd").value = twd.toFixed(2);
      document.getElementById("world").value = world.toFixed(2);
      document.getElementById("snow").value = snow.toFixed(2);
      document.getElementById("maple").value = Math.round(maple);
    }
  </script>
</body>
</html>
